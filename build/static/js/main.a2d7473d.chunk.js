(this.webpackJsonpmy_first_react=this.webpackJsonpmy_first_react||[]).push([[0],{15:function(e,t,n){"use strict";n.r(t);var a=n(8),c=n(2),o=n(0),r=n.n(o),s=n(7),u=n.n(s),l=n(1),i=n.n(l),m=n(3),p=function(){var e=Object(m.a)(i.a.mark((function e(t){var n,a,c,o,r,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"GET",a=s.length>2&&void 0!==s[2]?s[2]:null,c={method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImRlY2hhIiwiaWF0IjoxNjA2MjYyNTA5LCJleHAiOjE2MTE0NDY1MDl9.Us4U9cMiyho5h7kYvelQx9v5VdharuQZR5lN7LOt4pQ"}},a&&(c.body=JSON.stringify(a)),e.next=6,fetch(t,c);case 6:return o=e.sent,e.next=9,o.json();case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.addNewContact,n=e.activeContact,a=e.setActiveContact,s=e.replaceContact,u=Object(o.useState)(n.address),l=Object(c.a)(u,2),h=l[0],f=l[1],d=Object(o.useState)(n.name),v=Object(c.a)(d,2),E=v[0],b=v[1],C=Object(o.useState)(n.phoneNumber),N=Object(c.a)(C,2),k=N[0],O=N[1],j=Object(o.useState)(n.email),y=Object(c.a)(j,2),T=y[0],g=y[1],x=Object(o.useState)(n.contactType),w=Object(c.a)(x,2),I=w[0],L=w[1];function S(){b(""),f(""),g(""),O(""),L("personal")}return Object(o.useEffect)((function(){f(n.address||""),b(n.name||""),O(n.phoneNumber||""),g(n.email||""),L(n.contactType||"personal")}),[n]),r.a.createElement("form",{className:"contactForm",onSubmit:function(){var e=Object(m.a)(i.a.mark((function e(c){var o,r,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),o={name:E,address:h,phoneNumber:k,email:T,contactType:I},!n.id){e.next=12;break}return e.next=5,p("https://univ-contact-book.herokuapp.com/api/contacts/".concat(n.id),"PATCH",o);case 5:r=e.sent,console.log(r),s(n,r.contact),S(),a({}),e.next=23;break;case 12:return e.prev=12,e.next=15,p("https://univ-contact-book.herokuapp.com/api/contacts","POST",o);case 15:u=e.sent,t(u.contact),S(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(t){return e.apply(this,arguments)}}()},n.id?r.a.createElement("h3",null,"Edit Contact Info "):r.a.createElement("h3",null,"Create New Contact"),r.a.createElement("input",{type:"text",placeholder:"Enter Contact Name",value:E,onChange:function(e){return b(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Enter Contact Address",value:h,onChange:function(e){return f(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Enter Contact Email",value:T,onChange:function(e){return g(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Enter Contact Phone Number",value:k,onChange:function(e){return O(e.target.value)}}),r.a.createElement("select",{name:"contactType",id:"contactType",value:I,onChange:function(e){return L(e.target.value)}},r.a.createElement("option",{value:"work"},"Work"),r.a.createElement("option",{value:"personal"},"Personal"),r.a.createElement("option",{value:"other"},"Other")),n.id?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",null,"Submit Edits"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),a({}),S()}},"Cancel")):r.a.createElement("button",null,"ADD CONTACT"))},f=function(){return r.a.createElement("header",{id:"title",className:"header"},r.a.createElement("h1",{className:"pageName"},"deCha's Little Black Book"))},d=function(e){var t=Object(o.useState)(""),n=Object(c.a)(t,2),a=n[0],s=n[1],u=e.contact,l=e.setContactList;return r.a.createElement("form",{className:"notes-container"},r.a.createElement("input",{type:"text",className:"notesInput",placeholder:" enter note here then click 'Add Note'",value:a,onChange:function(e){s(e.target.value)}}),r.a.createElement("button",{className:"notesButton",onClick:function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),p("https://univ-contact-book.herokuapp.com/api/contacts/".concat(u.id,"/comments"),"POST",{content:"".concat(a)}).then((function(){return p("https://univ-contact-book.herokuapp.com/api/contacts")})).then((function(e){var t=e.contacts;l(t),s("")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"Add Note")," ")},v=function(e){var t=e.contactList,n=e.setContactList,a=e.setActiveContact,c=e.alphaOrder,o=e.filterTerm;return r.a.createElement("div",{className:"contacts"},c(t),t.filter((function(e){return e.name.toLowerCase().includes(o.toLowerCase())})).map((function(e,o){return r.a.createElement("div",{className:"contact",key:o,style:{border:"1px solid black"}},r.a.createElement("h3",{id:"contactName",className:"contactInfo"},e.name," (",e.contactType,")"),r.a.createElement("p",{className:"contactInfo"},"Phone: ",e.phoneNumber),r.a.createElement("p",{className:"contactInfo"},"Address: ",e.address),r.a.createElement("p",{className:"contactInfo"},"Email: ",e.email),r.a.createElement("div",{className:"contactNotes"},r.a.createElement(d,{contact:e,setContactList:n,contactList:t}),r.a.createElement("h4",null,"Notes about ",e.name,":"),e.comments.map((function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"notes"},e.content),r.a.createElement("span",null,r.a.createElement("button",{className:"deleteNote",key:a,onClick:Object(m.a)(i.a.mark((function a(){var o,r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p("https://univ-contact-book.herokuapp.com/api/comments/".concat(e.id),"DELETE");case 2:return a.next=4,p("https://univ-contact-book.herokuapp.com/api/contacts");case 4:o=a.sent,r=o.contacts,n(r),c(t);case 8:case"end":return a.stop()}}),a)})))},"Delete Note")," "))}))),r.a.createElement("button",{className:"editContact",onClick:function(){a(e),console.log(t)}},"Change Contact Info"),r.a.createElement("button",{className:"deleteContact",onClick:Object(m.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p("https://univ-contact-book.herokuapp.com/api/contacts/".concat(e.id),"DELETE",{name:e.name,contactType:e.contactType}).then((function(){return p("https://univ-contact-book.herokuapp.com/api/contacts")})).then((function(e){var t=e.contacts;n(t)}));case 1:case"end":return t.stop()}}),t)})))},"Rid this Person From Your Life"))})))},E=function(e){var t=e.filterTerm,n=e.setFilterTerm;return r.a.createElement("form",{id:"search",className:"search",onSubmit:function(e){e.preventDefault()}},r.a.createElement("input",{id:"keywords",type:"text",placeholder:"Enter Contact Name for Search",className:"search",value:t,onChange:function(e){n(e.target.value)}}),r.a.createElement("button",{onClick:function(){return n("")}},"RESET FILTER"))},b=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=t[0],s=t[1],u=Object(o.useState)({}),l=Object(c.a)(u,2),i=l[0],m=l[1],d=Object(o.useState)(""),b=Object(c.a)(d,2),C=b[0],N=b[1];function k(e){e.sort((function(e,t){var n=e.name.toLowerCase(),a=t.name.toLowerCase();return n<a?-1:n>a?1:0}))}function O(e){e.comments=e.comments||[],s([].concat(Object(a.a)(n),[e]))}return Object(o.useEffect)((function(){p("https://univ-contact-book.herokuapp.com/api/contacts").then((function(e){s(e.contacts),k(n)})).catch(console.error)}),[]),r.a.createElement("div",{className:"app"},r.a.createElement(f,null),r.a.createElement(h,{addNewContact:O,replaceContact:function(e,t){var a=n.map((function(n){return n===e?t:n}));s(a)},activeContact:i,setActiveContact:m}),r.a.createElement(E,{filterTerm:C,setFilterTerm:N}),r.a.createElement(v,{addNewContact:O,contactList:n,setContactList:s,activeContact:i,setActiveContact:m,alphaOrder:k,filterTerm:C}))};u.a.render(r.a.createElement(b,null),document.getElementById("app"))},9:function(e,t,n){e.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.a2d7473d.chunk.js.map